const { defineConfig } = require("@vue/cli-service");
module.exports = defineConfig({
  transpileDependencies: true,
  productionSourceMap: false,
  publicPath: "./",
  outputDir: "dist",
  assetsDir: "assets",
  configureWebpack: {
    // Webpack 配置选项
    // devtool: "none", // 禁用源映射
    devServer: {
      client: {
        overlay: false,
      },
      // overlay: false, // 禁用错误弹出到浏览器页面
      port: 8080,
      host: "0.0.0.0",
      https: false,
      open: true,

      // client: {
      //   WebSocketURL: "ws://192.168.1.189:8080/ws",
      // },
      //允许访问的域名
      headers: {
        "Access-Control-Allow-Origin": "*",
      },
      proxy: {
        "/api": {
          target: `http://192.168.1.227:8989`,
          changeOrigin: true,
          // secure: false, // 当代理某些https服务报错时用
          pathRewrite: {
            "^/api": "",
          },
        },
      },
    },
  },
});
